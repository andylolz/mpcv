{% extends "layout.html" %}
{% block title %} 
    {% if cvs %}
        Recent
    {% elif constituencies %}
        Constituencies
    {% endif %}
{% endblock %}

{% block wide %}
    
    <div id="all_cvs">

        <ul class="nav nav-pills pull-right">
            <li role="presentation" class="{% if view == 'recent' %}active {% endif %}">
                <a href="{{ url_for("all_cvs", view="recent", size=size) }}">Recent</a>
            </li>
            <li role="presentation" class="{% if view == 'alphabet' %}active {% endif %}">
                <a href="{{ url_for("all_cvs", view="alphabet", size=size) }}">Constituency</a>
            </li>
        </ul>

        {% if cvs %}
        <div class="pull-right btn-toolbar" role="toolbar">
            <div class="btn-group" role="group">
                <a href="{{ url_for("all_cvs", view=view, size="small") }}"
                class="{% if size == 'small' %}active {% endif %}btn btn-success" title="Small thumbnails">
                  <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                </a>

                <a href="{{ url_for("all_cvs", view=view, size="medium") }}"
                class="{% if size == 'medium' %}active {% endif %}btn btn-success" title="Medium thumbnails">
                  <span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
                </a>

                <a href="{{ url_for("all_cvs", view=view, size="large") }}"
                class="{% if size == 'large' %}active {% endif %}btn btn-success" title="Large thumbnails">
                  <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
                </a>
            </div>
        </div>
        {% endif%}

        {% if cvs %}
            <h1>Recent</h1>

            <div class="row">
                {% for cv in cvs %}
                    {% if size == 'large' %}
                    <div class="col-md-6 col-sm-12">
                    {% elif size == 'medium' %}
                    <div class="col-md-3 col-sm-4 col-xs-6">
                    {% elif size == 'small' %}
                    <div class="col-lg-1 col-sm-2 col-xs-3">
                    {% endif %}
                         {% import 'embed_cv.html' as embed_cv %}
                        {{ embed_cv.embed_cv(cv, full_page_link=True) }} 
                    </div>
                {% endfor %}
            </div>
        {% endif%}

        {% if constituencies %}
            <h1>Constituencies</h1>

            {% for candidates in constituencies %}
                <h2><a href="/candidates/{{candidates[0].constituency_id}}">{{ candidates[0].constituency_name }}</a></h2>
                <div class="row">
                {% for candidate in candidates %}
                    <div class="col-xs-12 col-md-6 col-lg-5">
                        <span class="whole_name">
                            {% if candidate.has_cv %}<a href="/show_cv/{{candidate.id}}">{% endif %}
                            <span class="name">{{ candidate.name}}</span> 
                            {% if candidate.has_cv %}</a>{% endif %}
                            <span class="party">{{ candidate.party}}</span>
                        </span>
                    </div>
                {% endfor %}
                </div>
            {% endfor %}

        {% endif%}

    </div>

{% endblock %}
